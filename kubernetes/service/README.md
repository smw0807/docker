# 서비스

파드는 일시적인 존재라 언제든지 할당된 IP가 바뀔 수 있다.
클라이언트 입장에서는 늘 변하는 파드의 IP 주소를 알기 어렵기 때문에 쿠버네티스에는 서비스라는 오브젝트가 존재한다.
서비스에는 다음과 같이 여러 타입이 있어 이를 매니페스트에 지정함으로써 접근이 가능한 클라이언트의 범위를 한정할 수 있다.

| 서비스 타입  | 접근 가능 범위                                                                                               |
| ------------ | ------------------------------------------------------------------------------------------------------------ |
| ClusterIP    | 타입을 지정하지 않으면 기본으로 설정되며, 클러스터 내부의 파드에서 서비스의 이름으로 접근할 수 있다.         |
| NodePort     | ClusterIP의 접근 범위 뿐만 아니라 쿠버네티스 클러스터 외부에서도 노드의 IP 주소와 포트번호로 접근할 수 있다. |
| LoadBalancer | NodePort의 접근 범위 뿐만 아니라 쿠버네티스 클러스터 외부에서 대표 IP 주소로 접근할 수 있다.                 |
| ExternalName | 쿠버네티스 클러스터 내의 파드에서 외부 IP 주소에 서비스의 이름으로 접근할 수 있다.                           |

# ClusterIP

클러스터 내부에서 내부 DNS에 등록한 이름으로 특정 파드 집합에 요청을 전송할 수 있게 해준다.
매니페스트에 ClusterIP: none이라고 지정하면, 헤드리스 설정으로 서비스가 동작한다.
이 설정에서는 대표 IP 주소를 획득하지 않고, 부하분산도 이뤄지지 않는다.
그 대신에 파드들의 IP 주소를 내부 DNS에 등록하여, 파드의 IP 주소 변경에 대응하여 최신 상태를 유지한다.
